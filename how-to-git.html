<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <title>How to use git basic commands</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <!-- Bootstrap core CSS -->
        <link rel="stylesheet" href="/css/bootstrap.min.css" />
        <!-- Custom styles for this template -->
        <link rel="stylesheet" href="/css/blog.css" />
        <link rel="stylesheet" href="/css/font-awesome-4.2.0/css/font-awesome.min.css" />
        <!-- disqus mechanism -->
        <script language="javascript" src="/js/disqus.js"></script>
        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
        <script language="javascript" src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script language="javascript" src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>
    <body>
        <div id="nav" style="margin-bottom:10px">
                <div class="blog-masthead">
      <div class="container">
        <nav class="blog-nav">
            <a class="blog-nav-item active" href="/index.html"><i class="fa fa-home"> Home</i></a>
            <a class="blog-nav-item" href="/archives.html"><i class="fa fa-archive"> Archives</i></a>
            <a class="blog-nav-item" href="/about-me.html"><i class="fa fa-linux"> About me</i></a>
            <a class="blog-nav-item" href="/curriculum.html"><i class="fa fa-folder"> cv</i></a>
            <a class="blog-nav-item" href="/rss.xml"><i class="fa fa-rss-square"></i></a>
        </nav>
      </div>
    </div>

        </div>

        <div class="container">
            <div class="row">
                <div class="col-md-8 blog-main">
                    <div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Git basics on command line</h2>
<div class="outline-text-2" id="text-1">
<p>
<a href="https://git-scm.com/">Git</a> is a free and open source distributed version control system developed by <a href="https://en.wikipedia.org/wiki/Linus_Torvalds">Linus Torvalds</a> back in 2005, in order to maintain his first big project, the <a href="https://en.wikipedia.org/wiki/Linux_kernel">Linux kernel</a>.  You can find many different GUI environments for controlling Git, or libraries for different editors like the <a href="https://www.emacswiki.org/emacs/Magit">Magit</a> for Emacs.
</p>

<p>
The basic idea behind git is shown in figure below.
</p>


<img src ="https://git-scm.com/book/en/v2/book/01-introduction/images/areas.png"
alt="git-cycles" align="left" width="600"
title="git-stage-commit-checkout" class="img"</img>
</div>

<div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1">git init</h3>
<div class="outline-text-3" id="text-1-1">
<p>
We can initialize a git repository in our working directory, either locally using <code>git init</code> or by creating a new repository in our github account, and typing in a terminal <code>git clone git@github.com:&lt;user-name&gt;/&lt;repo-name&gt;.git</code>.  I will create a new git local repository on my working directory.
</p>

<div class="org-src-container">

<pre class="src src-sh">git init &amp;&amp; ls -al .git/
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="right" />

<col  class="left" />

<col  class="left" />

<col  class="right" />

<col  class="left" />

<col  class="right" />

<col  class="right" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">Initialized</td>
<td class="right">empty</td>
<td class="left">Git</td>
<td class="left">repository</td>
<td class="right">in</td>
<td class="left"><i>home/aucotsi/myblog/aucotsi</i>.git/</td>
<td class="right">&#xa0;</td>
<td class="right">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">total</td>
<td class="right">40</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="right">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="right">&#xa0;</td>
<td class="right">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">drwxr-xr-x</td>
<td class="right">7</td>
<td class="left">aucotsi</td>
<td class="left">aucotsi</td>
<td class="right">4096</td>
<td class="left">Νοέ</td>
<td class="right">9</td>
<td class="right">03:44</td>
<td class="left">.</td>
</tr>

<tr>
<td class="left">drwxr-xr-x</td>
<td class="right">7</td>
<td class="left">aucotsi</td>
<td class="left">aucotsi</td>
<td class="right">4096</td>
<td class="left">Νοέ</td>
<td class="right">9</td>
<td class="right">03:44</td>
<td class="left">..</td>
</tr>

<tr>
<td class="left">drwxr-xr-x</td>
<td class="right">2</td>
<td class="left">aucotsi</td>
<td class="left">aucotsi</td>
<td class="right">4096</td>
<td class="left">Νοέ</td>
<td class="right">9</td>
<td class="right">03:44</td>
<td class="left">branches</td>
</tr>

<tr>
<td class="left">-rw-r&#x2013;r--</td>
<td class="right">1</td>
<td class="left">aucotsi</td>
<td class="left">aucotsi</td>
<td class="right">92</td>
<td class="left">Νοέ</td>
<td class="right">9</td>
<td class="right">03:44</td>
<td class="left">config</td>
</tr>

<tr>
<td class="left">-rw-r&#x2013;r--</td>
<td class="right">1</td>
<td class="left">aucotsi</td>
<td class="left">aucotsi</td>
<td class="right">73</td>
<td class="left">Νοέ</td>
<td class="right">9</td>
<td class="right">03:44</td>
<td class="left">description</td>
</tr>

<tr>
<td class="left">-rw-r&#x2013;r--</td>
<td class="right">1</td>
<td class="left">aucotsi</td>
<td class="left">aucotsi</td>
<td class="right">23</td>
<td class="left">Νοέ</td>
<td class="right">9</td>
<td class="right">03:44</td>
<td class="left">HEAD</td>
</tr>

<tr>
<td class="left">drwxr-xr-x</td>
<td class="right">2</td>
<td class="left">aucotsi</td>
<td class="left">aucotsi</td>
<td class="right">4096</td>
<td class="left">Νοέ</td>
<td class="right">9</td>
<td class="right">03:44</td>
<td class="left">hooks</td>
</tr>

<tr>
<td class="left">drwxr-xr-x</td>
<td class="right">2</td>
<td class="left">aucotsi</td>
<td class="left">aucotsi</td>
<td class="right">4096</td>
<td class="left">Νοέ</td>
<td class="right">9</td>
<td class="right">03:44</td>
<td class="left">info</td>
</tr>

<tr>
<td class="left">drwxr-xr-x</td>
<td class="right">4</td>
<td class="left">aucotsi</td>
<td class="left">aucotsi</td>
<td class="right">4096</td>
<td class="left">Νοέ</td>
<td class="right">9</td>
<td class="right">03:44</td>
<td class="left">objects</td>
</tr>

<tr>
<td class="left">drwxr-xr-x</td>
<td class="right">4</td>
<td class="left">aucotsi</td>
<td class="left">aucotsi</td>
<td class="right">4096</td>
<td class="left">Νοέ</td>
<td class="right">9</td>
<td class="right">03:44</td>
<td class="left">refs</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2">gitignore</h3>
<div class="outline-text-3" id="text-1-2">
<p>
Now I will create a <code>.gitignore</code> file to inform git which files and folders I do not want to watch using this repo.
</p>

<div class="org-src-container">

<pre class="src src-sh"><span class="org-builtin">echo</span> -e <span class="org-string">'*.org\n*~\nimg/\nmedia/\nsrc/\ntmp-audacity'</span> &gt; .gitignore &amp;&amp; cat .gitig<span class="org-whitespace-line">nore</span>
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">*.org</td>
</tr>

<tr>
<td class="left">*~</td>
</tr>

<tr>
<td class="left">img/</td>
</tr>

<tr>
<td class="left">media/</td>
</tr>

<tr>
<td class="left">src/</td>
</tr>

<tr>
<td class="left">tmp-audacity</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><b>git status</b> (Working Directory)</h3>
<div class="outline-text-3" id="text-1-3">
<p>
Using <code>git status</code> I can see the status of my <i>Working Directory</i>.
</p>

<div class="org-src-container">

<pre class="src src-sh">git status
</pre>
</div>

<pre class="example">
On branch master

Initial commit

Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)

	.gitignore

nothing added to commit but untracked files present (use "git add" to track)
</pre>

<p>
None of the files/folders in my working directory are being tracked by git because I have exclude them in <code>.gitignore</code>.  I have to add only the later in my repository.
</p>
</div>
</div>

<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4"><b>git add</b> (Staging Area)</h3>
<div class="outline-text-3" id="text-1-4">
<p>
In order to move <code>.gitignore</code> to the <i>Staging Area</i> I have to type <code>git add .gitignore</code> or <code>git add .</code> where dot symbol is regex.
</p>

<div class="org-src-container">

<pre class="src src-sh">git add .gitignore &amp;&amp; git status
</pre>
</div>

<pre class="example">
On branch master

Initial commit

Changes to be committed:
  (use "git rm --cached &lt;file&gt;..." to unstage)

        new file:   .gitignore
</pre>

<p>
Now <code>.gitignore</code> is on <i>Staging Area</i>.
</p>
</div>
</div>

<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5"><b>git commit</b> (.git directory)</h3>
<div class="outline-text-3" id="text-1-5">
<p>
In order to checkout my directory I have to make my first commit.
</p>

<div class="org-src-container">

<pre class="src src-sh">git commit -m <span class="org-string">'initial commit and adding .gitignore'</span> &amp;&amp; git status
</pre>
</div>

<pre class="example">
[master (root-commit) e96bbb2] initial commit and adding .gitignore
 1 file changed, 6 insertions(+)
 create mode 100644 .gitignore
On branch master
nothing to commit, working tree clean
</pre>


<dl class="org-dl">
<dt> NOTE </dt><dd>If you decide to merge the steps <code>git add</code> and <code>git commit</code> using the <code>-a -m</code> switches you might loose or add unwanted information that you have added last minute.  The same file can be at the same time on staging area and unstaged as well.
</dd>
</dl>


<p>
Now I have finished my git cycle.  After every commit, git can remember every edit that I have done.
</p>
</div>
</div>

<div id="outline-container-sec-1-6" class="outline-3">
<h3 id="sec-1-6">Rollback to previous version of a file</h3>
<div class="outline-text-3" id="text-1-6">
<p>
I will add a new line to <code>.gitignore</code> and I will rollback to my initial commit.
</p>

<div class="org-src-container">

<pre class="src src-sh"><span class="org-builtin">echo</span> <span class="org-string">'a new line'</span> &gt;&gt; .gitignore &amp;&amp; cat .gitignore &amp;&amp; git status
</pre>
</div>

<pre class="example">
*.org
*~
img/
media/
src/
tmp-audacity
a new line
On branch master
Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

	modified:   .gitignore

no changes added to commit (use "git add" and/or "git commit -a")
</pre>

<p>
Now I will stage and commit at once, just for the demo.
</p>

<div class="org-src-container">

<pre class="src src-sh">git commit -a -m <span class="org-string">'stage &amp; commit at once'</span> &amp;&amp; git status
</pre>
</div>

<pre class="example">
[master 5009d0a] stage &amp; commit at once
 1 file changed, 1 insertion(+)
On branch master
nothing to commit, working tree clean
</pre>
</div>

<ul class="org-ul"><li><a id="sec-1-6-1" name="sec-1-6-1"></a><b>git log</b><br  /><div class="outline-text-4" id="text-1-6-1">
<p>
<code>git log -5</code> will print the history of the last five commits.  Now I have only two commits so I will type <code>git log</code>.
</p>

<div class="org-src-container">

<pre class="src src-sh">git log &amp;&amp; cat .gitignore <span class="org-comment-delimiter"># </span><span class="org-comment">check the contents of my file</span>
</pre>
</div>

<pre class="example">
commit 5009d0a0c6d26ed2558b55af893d34fa7595c501
Author: gewhere &lt;myemail[at]mail[dot]com&gt;
Date:   Wed Nov 9 04:46:18 2016 +0200

    stage &amp; commit at once

commit e96bbb2dd86092297ddc447b9b25ab981481b0cf
Author: gewhere &lt;myemail[at]mail[dot]com&gt;
Date:   Wed Nov 9 04:13:09 2016 +0200

    initial commit and adding .gitignore
*.org
*~
img/
media/
src/
tmp-audacity
a new line
</pre>
</div>
</li>

<li><a id="sec-1-6-2" name="sec-1-6-2"></a><b>git checkout</b><br  /><div class="outline-text-4" id="text-1-6-2">
<p>
I can rollback to my first commit using <code>git checkout &lt;file-id-of-the-commit&gt; &lt;file-name&gt;</code>.
</p>

<div class="org-src-container">

<pre class="src src-sh">git checkout e96bbb2dd86092297ddc447b9b25ab981481b0cf .gitignore &amp;&amp; cat .gitigno<span class="org-whitespace-line">re</span>
</pre>
</div>

<pre class="example">
*.org
*~
img/
media/
src/
tmp-audacity
</pre>

<p>
I have now successfully retrieve my previous commit.
</p>
</div>
</li></ul>
</div>
</div>

                </div>
                <div class="col-md-4 blog-sidebar">
                    <div id="latest-post">
                        <h4 class="title">Latest posts</h4>

<div class="post_info" style="margin-bottom:5px;">
    <a href="/org-tables-id">Orgmode tables and IDs</a>
    <span>(2016-11-23)</span>
    <div>
        <em> Basic properties and calculations with org-table </em>
    </div>
</div>

<div class="post_info" style="margin-bottom:5px;">
    <a href="/org-bibtex">Org-bibtex</a>
    <span>(2016-11-23)</span>
    <div>
        <em> Handling bibliography in orgmode </em>
    </div>
</div>

<div class="post_info" style="margin-bottom:5px;">
    <a href="/blockdiag-seqdiag">Blockdiag and Seqdiag</a>
    <span>(2016-11-20)</span>
    <div>
        <em> Graphviz-like apps in python </em>
    </div>
</div>

<div class="post_info" style="margin-bottom:5px;">
    <a href="/org-vectors-to-python">Orgmode vectors to python arrays</a>
    <span>(2016-11-15)</span>
    <div>
        <em> Merge vectors to org-table,export to tsv and import in python </em>
    </div>
</div>

<div class="post_info" style="margin-bottom:5px;">
    <a href="/pacman-conflicting-packages">Find pacman conflicting packages</a>
    <span>(2016-11-12)</span>
    <div>
        <em> An oneline script to print pacman conflicting packages </em>
    </div>
</div>


                    </div>
                    <div class="sidebar-module">
                        <a class="twitter-timeline" data-height="600" href="https://twitter.com/aucotsi">Tweets by aucotsi</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
<!---
<a class="twitter-timeline" href="https://twitter.com/aucotsi" data-widget-id="286532684157681664">Tweets by @aucotsi</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
-->

                    </div>
                    <div class="sidebar-module">
                        <div data-theme="medium" data-width="300" data-github="gewhere" class="github-card" target="blank"></div>
<script src="http://lab.lepture.com/github-cards/widget.js"></script>

                    </div>
                </div>
            </div>
        </div>

        <div id="footer">
            <div class="row">
                <footer class="blog-footer">
    <div class="col-md-2">
        Content by <a href="/">@aucotsi</a>
        <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
            <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" />
        </a>
    </div>
    <div class="col-md-2">
        Written in <a href="http://orgmode.org/" title="A swiss army knife and among other things, a publication tool">org-mode</a>
    </div>
    <div class="col-md-2">
        Exported by <a href="https://github.com/ardumont/org2jekyll.git" title="An emacs mode that adds the abilities to export to jekyll with specific org headers">org2jekyll</a>
    </div>
    <div class="col-md-2">
        Powered by <a href="http://github.com/jekyll/jekyll/" title="A static, minimalist CMS">Jekyll</a>.
    </div>
    <div class="col-md-2">
        Style from <a href="http://getbootstrap.com">Bootstrap</a> by <a href="https://twitter.com/mdo">@mdo</a>.
    </div>
    <div class="col-md-2">
        <a href="#"><i class="fa fa-angle-double-up"></i></a>
    </div>
</footer>

            </div>
        </div>
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script language="javascript" src="/js/jquery-1.11.2.min.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script language="javascript" src="/js/bootstrap.min.js"></script>
        <!-- A small message for those who do not use js. -->
        <noscript>If you want to <a href="http://disqus.com/?ref_noscript">view the comments</a>, please enable JavaScript.</noscript>
    </body>
</html>
